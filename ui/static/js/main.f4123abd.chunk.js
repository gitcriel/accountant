(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,a,t){},35:function(e,a,t){e.exports=t(51)},47:function(e,a,t){},48:function(e,a,t){},49:function(e,a,t){},51:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(30),o=t(11),c=t(19),i=t(16),l=t(28),u=t(32),d=t(17),m=t(10),h={SESSION_STORAGE_SESSION_TOKEN:"SessionToken",SESSION_STORAGE_USERNAME:"username",SERVICE_URL:"",BASE_NAME:"/",URI:{SESSION:"/api/v1/session",ACCOUNT:"/api/v1/account",CHANGE_PASSWORD:"/api/v1/account/changepassword"}},p={CLEAR_ERRORS:"CLEAR_ERRORS",CLEAR_ERRORS_AND_MESSAGES:"CLEAR_ERRORS_AND_MESSAGES",LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",REGISTER_REQUEST:"REGISTER_REQUEST",REGISTER_SUCCESS:"REGISTER_SUCCESS",REGISTER_FAILURE:"REGISTER_FAILURE",CHANGE_PASSWORD_REQUEST:"CHANGE_PASSWORD_REQUEST",CHANGE_PASSWORD_SUCCESS:"CHANGE_PASSWORD_SUCCESS",CHANGE_PASSWORD_FAILURE:"CHANGE_PASSWORD_FAILURE"},E={};sessionStorage.getItem(h.SESSION_STORAGE_SESSION_TOKEN)&&(E={isLoggedIn:!0});var b,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.CLEAR_ERRORS:return Object(m.a)({},e,{error:null});case p.CLEAR_ERRORS_AND_MESSAGES:return Object(m.a)({},e,{error:null,message:null});case p.REGISTER_REQUEST:case p.LOGIN_REQUEST:return Object(m.a)({},e,{username:a.username,isSessionExpired:!1,fetching:!0,error:null,message:null});case p.REGISTER_SUCCESS:case p.LOGIN_SUCCESS:return Object(m.a)({},e,{fetching:!1,loggedIn:!0});case p.REGISTER_FAILURE:case p.LOGIN_FAILURE:return Object(m.a)({},e,{fetching:!1,error:a.error});case p.LOGOUT:return Object(m.a)({},e,{sessionExpired:a.sessionExpired,saving:!1,loggedIn:!1,message:a.message});case p.CHANGE_PASSWORD_REQUEST:return Object(m.a)({},e,{saving:!0,error:null});case p.CHANGE_PASSWORD_SUCCESS:return Object(m.a)({},e,{saving:!1,error:null});case p.CHANGE_PASSWORD_FAILURE:return Object(m.a)({},e,{saving:!1,error:a.error});default:return e}},f=Object(d.a)(),S=[u.a,Object(l.a)(f)],v=i.d.apply(void 0,[i.a.apply(void 0,S)].concat([])),O=Object(i.e)(Object(c.b)(f)((b=f,Object(i.c)({router:Object(c.b)(b),accountReducer:g}))),{},v),w=t(55),y=t(54),C=function(){return r.a.createElement(y.a,{to:"".concat("","/main")})},R=t(3),N=t(4),j=t(7),P=t(5),_=t(6),A=t(2),I=t(13),k=t.n(I),L=t(20),T={postNoAuth:function(e,a){return U.apply(this,arguments)},post:function(e,a){return G.apply(this,arguments)},get:function(e,a){return W.apply(this,arguments)},save:function(e,a,t){return x.apply(this,arguments)},erase:function(e,a){return F.apply(this,arguments)}};function U(){return(U=Object(L.a)(k.a.mark(function e(a,t){var n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch(h.SERVICE_URL+a,n);case 3:return r=e.sent,e.next=6,K(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(){return(G=Object(L.a)(k.a.mark(function e(a,t){var n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:Object(m.a)({"Content-Type":"application/json"},D()),body:JSON.stringify(t)},e.next=3,fetch(h.SERVICE_URL+a,n);case 3:return r=e.sent,e.next=6,K(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(){return(x=Object(L.a)(k.a.mark(function e(a,t,n){var r,s,o,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.SERVICE_URL+a,s="POST",void 0!==t&&(s="PUT",r+="/"+t),o={method:s,headers:Object(m.a)({"Content-Type":"application/json"},D()),body:JSON.stringify(n)},e.next=6,fetch(r,o);case 6:return c=e.sent,e.next=9,K(c);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function W(){return(W=Object(L.a)(k.a.mark(function e(a,t){var n,r,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:Object(m.a)({"Content-Type":"application/json"},D())},r=h.SERVICE_URL+a,void 0!==t&&(r+="/"+t),e.next=5,fetch(r,n);case 5:return s=e.sent,e.next=8,K(s);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(){return(F=Object(L.a)(k.a.mark(function e(a,t){var n,r,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE",headers:Object(m.a)({"Content-Type":"application/json"},D())},r=h.SERVICE_URL+a,void 0!==t&&(r+="/"+t),e.next=5,fetch(r,n);case 5:return s=e.sent,e.next=8,K(s);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(){return{Authorization:"Custom "+sessionStorage.getItem(h.SESSION_STORAGE_SESSION_TOKEN)}}function K(e){return e.text().then(function(a){var t=a&&JSON.parse(a);if(e.ok)return t;var n=t||e.statusText;return Promise.reject(n)})}var H=t(21),M=t.n(H),Q=function(e){return T.postNoAuth(h.URI.SESSION,{username:e.username,password:e.password})},z=function(e){var a=new M.a.SHA1,t=""===e.password?"":a.hex(e.password),n=""===e.confirmPassword?"":a.hex(e.confirmPassword);return T.post(h.URI.ACCOUNT,{username:e.username,password:t,confirmPassword:n})},V=function(){return T.erase(h.URI.SESSION)},B=function(e){var a=new M.a.SHA1,t=""===e.oldPassword?"":a.hex(e.oldPassword),n=""===e.newPassword?"":a.hex(e.newPassword),r=""===e.confirmPassword?"":a.hex(e.confirmPassword);return T.post(h.URI.CHANGE_PASSWORD,{oldPassword:t,newPassword:n,confirmPassword:r})};function J(e,a){return{type:e,error:a}}var q={handleErrors:function(e,a,t){null!=e.error&&null!=e.description?"Forbidden"===e.error?a(Y.sessionExpired("Session has expired. Please login again.")):a(J(t,e)):a(J(t,{Message:"A server error has occurred. Please try again later."}))}},$={clearErrorsAndMessages:function(){return function(e){e({type:p.CLEAR_ERRORS_AND_MESSAGES})}},clearErrors:function(){return function(e){e({type:p.CLEAR_ERRORS})}},login:function(e){return function(a){a({type:p.LOGIN_REQUEST}),Q(e).then(function(t){return a((n=t.sessionToken,r=e.username,X(n,r),{type:p.LOGIN_SUCCESS}));var n,r},function(e){return q.handleErrors(e,a,p.LOGIN_FAILURE)})}},logout:function(e){return function(t){V().then(function(){return t(a(e))},function(){return t(a(e))})};function a(e){return sessionStorage.clear(),{type:p.LOGOUT,message:e}}},sessionExpired:function(e){return sessionStorage.clear(),{type:p.LOGOUT,message:e}},register:function(e){return function(a){a({type:p.REGISTER_REQUEST}),z(e).then(function(t){return a((n=t.sessionToken,r=e.username,X(n,r),{type:p.REGISTER_SUCCESS}));var n,r},function(e){return q.handleErrors(e,a,p.REGISTER_FAILURE)})}},changePassword:function(e){return function(a){a({type:p.CHANGE_PASSWORD_REQUEST}),B(e).then(function(){return a($.logout("Password changed. Please login with your new password."))},function(e){return q.handleErrors(e,a,p.CHANGE_PASSWORD_FAILURE)})}}};function X(e,a){sessionStorage.setItem(h.SESSION_STORAGE_SESSION_TOKEN,e),sessionStorage.setItem(h.SESSION_STORAGE_USERNAME,a)}var Y=$,Z=t(53),ee=(t(47),function(e){function a(){return Object(R.a)(this,a),Object(j.a)(this,Object(P.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(N.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark sticky-top bg-dark navbar-logo"},r.a.createElement("div",{className:"container body-container high-res-height low-res-margin"},r.a.createElement(Z.a,{className:"navbar-brand",to:"".concat("","/main/")},r.a.createElement("i",{className:"fas fa-biohazard logo"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCustom"},r.a.createElement("i",{className:"fas fa-bars white-icon"})),r.a.createElement("div",{className:"navbar-collapse collapse",id:"navbarCustom"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item nav-item-fix"},r.a.createElement(Z.a,{className:"nav-link",to:"".concat("","/main/mypath")},"Test")),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("button",{className:"btn btn-link nav-link dropdown-toggle",href:"#",id:"navbarDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Account"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement(Z.a,{className:"dropdown-item",to:"".concat("","/main/changepassword")},"Change Password"),r.a.createElement(Z.a,{className:"dropdown-item",to:"".concat("","/main/mypath")},"Settings"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("button",{className:"btn btn-link dropdown-item",onClick:this.props.handleLogout},"Logout")))))))}}]),a}(n.Component)),ae=function(){return r.a.createElement("div",null,"Coming soon...")},te=t(15),ne=function(e){function a(){return Object(R.a)(this,a),Object(j.a)(this,Object(P.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(N.a)(a,[{key:"render",value:function(){var e=this.props,a=e.message,t=e.showWhen,n=e.type;return t?r.a.createElement("div",{className:"alert ".concat("error"===n?"alert-danger":""," ").concat("warning"===n?"alert-warn":""," ").concat("info"===n?"alert-info":"")},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{paddingRight:"5px"}},r.a.createElement("i",{className:"fas ".concat("info"===n?"fa-info-circle":"fa-exclamation-circle")})),r.a.createElement("td",null,a))))):null}}]),a}(n.Component),re=function(e){function a(){return Object(R.a)(this,a),Object(j.a)(this,Object(P.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(N.a)(a,[{key:"render",value:function(){var e=this.props,a=e.error,t=e.warning,n=e.info;return r.a.createElement("div",null,r.a.createElement(ne,{showWhen:a,message:a?a.description:"",type:"error"}),r.a.createElement(ne,{showWhen:t,message:t,type:"warning"}),r.a.createElement(ne,{showWhen:n,message:n,type:"info"}))}}]),a}(n.Component),se=function(e){function a(){return Object(R.a)(this,a),Object(j.a)(this,Object(P.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(N.a)(a,[{key:"getErrorDescription",value:function(e){if(null==e.properties)return e.description;for(var a=e.description,t=1;t<=e.properties.length;t++)a=a.replace("$"+t,e.properties[t-1]);return a}},{key:"render",value:function(){var e=this,a=this.props,t=a.error,n=a.errorKey;return null==t||null==t.fields||null==t.fields[n]?null:r.a.createElement("div",{className:"invalid-feedback"},t.fields[n].map(function(a,t){return r.a.createElement("div",{key:t},e.getErrorDescription(a))}))}}]),a}(n.Component),oe=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(j.a)(this,Object(P.a)(a).call(this,e))).state={showPassword:!1},t.toggleShowPassword=t.toggleShowPassword.bind(Object(A.a)(Object(A.a)(t))),t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"toggleShowPassword",value:function(){this.setState({showPassword:!this.state.showPassword})}},{key:"hasErrors",value:function(e){var a=this.props.error;return null!=a&&null!=a.fields&&null!=a.fields[e]}},{key:"render",value:function(){var e=this.props,a=e.showWhen,t=e.name,n=e.label,s=e.type,o=e.autoFocus,c=e.errorKey,i=e.disabled,l=e.onChange,u=e.onBlur,d=e.value,m=e.placeholder,h=e.error,p=e.passwordVisibilityToggle,E=this.state.showPassword;return void 0===a||a?"textarea"===s?r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},n),r.a.createElement("textarea",{autoFocus:o,className:"form-control "+(this.hasErrors(c)?"is-invalid":""),disabled:i,name:t,onChange:l,onBlur:u,value:d,placeholder:m}),r.a.createElement(se,{error:h,errorKey:c})):"password"===s&&p?r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},n),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:E?"text":"password",autoFocus:o,className:"form-control "+(this.hasErrors(c)?"is-invalid":""),disabled:i,name:t,onChange:l,onBlur:u,value:d,placeholder:m,"aria-describedby":"basic-addon2"}),r.a.createElement("div",{className:"input-group-append"},E&&r.a.createElement("i",{id:"basic-addon2",className:"fas fa-eye-slash clickable input-group-text","aria-hidden":"true",onClick:this.toggleShowPassword}),!E&&r.a.createElement("i",{id:"basic-addon2",className:"fas fa-eye clickable input-group-text","aria-hidden":"true",onClick:this.toggleShowPassword}))),r.a.createElement(se,{error:h,errorKey:c})):r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},n),r.a.createElement("input",{type:s,autoFocus:o,className:"form-control "+(this.hasErrors(c)?"is-invalid":""),disabled:i,name:t,onChange:l,onBlur:u,value:d,placeholder:m}),r.a.createElement(se,{error:h,errorKey:c})):null}}]),a}(n.Component),ce=(t(48),function(e){function a(){return Object(R.a)(this,a),Object(j.a)(this,Object(P.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(N.a)(a,[{key:"render",value:function(){var e=this.props,a=e.showWhen,t=e.message;return a?r.a.createElement("div",{className:"spinner_panel row"},r.a.createElement("div",{className:"col-sm-12 text-center"},r.a.createElement("i",{className:"fas fa-circle-notch fa-spin"})," ",t)):null}}]),a}(n.Component)),ie=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(j.a)(this,Object(P.a)(a).call(this,e))).state={left:3,right:3,middle:6},t.getSize=t.getSize.bind(Object(A.a)(Object(A.a)(t))),t.getClasses=t.getClasses.bind(Object(A.a)(Object(A.a)(t))),t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"getSize",value:function(e){return void 0===this.props[e]?this.state[e]:this.props[e]}},{key:"getClasses",value:function(){var e="container-fluid top-page-padding ";return this.props.className?e+this.props.className:e}},{key:"render",value:function(){return r.a.createElement("div",{className:this.getClasses()},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-"+this.getSize("left")}),r.a.createElement("div",{className:"col-md-"+this.getSize("middle")},this.props.children),r.a.createElement("div",{className:"col-md-"+this.getSize("right")})))}}]),a}(n.Component),le=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(j.a)(this,Object(P.a)(a).call(this,e))).submit=t.submit.bind(Object(A.a)(Object(A.a)(t))),t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"submit",value:function(e){e.preventDefault(),this.props.onClick()}},{key:"render",value:function(){var e=this.props,a=e.showWhen,t=e.label,n=e.disabled;return void 0===a||a?r.a.createElement("input",{type:"submit",className:"btn btn-primary",disabled:n,onClick:this.submit,value:t}):null}}]),a}(n.Component),ue=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(j.a)(this,Object(P.a)(a).call(this,e))).state={oldPassword:"",newPassword:"",confirmPassword:""},t.handleChange=t.handleChange.bind(Object(A.a)(Object(A.a)(t))),t.handleChangePassword=t.handleChangePassword.bind(Object(A.a)(Object(A.a)(t))),t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentWillMount",value:function(){this.props.dispatch(Y.clearErrors())}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(te.a)({},t,n))}},{key:"handleChangePassword",value:function(){var e=this.state,a=e.oldPassword,t=e.newPassword,n=e.confirmPassword;(0,this.props.dispatch)(Y.changePassword({oldPassword:a,newPassword:t,confirmPassword:n})),this.clearPassword()}},{key:"clearPassword",value:function(){this.setState({oldPassword:"",newPassword:"",confirmPassword:""})}},{key:"render",value:function(){var e=this.props,a=e.saving,t=e.error,n=this.state,s=n.oldPassword,o=n.newPassword,c=n.confirmPassword;return r.a.createElement(ie,{left:2,middle:6,right:2},r.a.createElement(ce,{showWhen:a,message:"changing password..."}),!a&&r.a.createElement("div",null,r.a.createElement(re,{error:t}),r.a.createElement("form",null,r.a.createElement(oe,{type:"password",name:"oldPassword",errorKey:"oldPassword",label:"Old Password",autoFocus:!0,error:t,value:s,disabled:a,onChange:this.handleChange}),r.a.createElement(oe,{type:"password",name:"newPassword",errorKey:"newPassword",label:"New Password",error:t,value:o,disabled:a,onChange:this.handleChange}),r.a.createElement(oe,{type:"password",name:"confirmPassword",errorKey:"confirmPassword",label:"Confirm New Password",error:t,value:c,disabled:a,onChange:this.handleChange}),r.a.createElement("div",{className:"row button-top-padding"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement(le,{onClick:this.handleChangePassword,label:"Change Password"}),r.a.createElement(Z.a,{className:"btn btn-secondary",to:"".concat("","/")},"Cancel"))))))}}]),a}(n.Component);var de=Object(o.c)(function(e){var a=e.accountReducer;return{saving:a.saving,error:a.error}})(ue),me=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(j.a)(this,Object(P.a)(a).call(this,e))).handleLogout=t.handleLogout.bind(Object(A.a)(Object(A.a)(t))),t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentWillMount",value:function(){document.body.className=""}},{key:"handleLogout",value:function(){(0,this.props.dispatch)(Y.logout())}},{key:"isOnRootPath",value:function(e){var a=e.pathname;return a.endsWith("/main")||a.endsWith("/main/")}},{key:"render",value:function(){if(this.props.loggedIn){var e=this.props.match;return r.a.createElement("div",null,r.a.createElement(ee,{handleLogout:this.handleLogout}),this.isOnRootPath(this.props.location)&&r.a.createElement("div",null,"Root"),!this.isOnRootPath(this.props.location)&&r.a.createElement("div",null,r.a.createElement(w.a,{path:"".concat(e.path,"/mypath"),component:ae}),r.a.createElement(w.a,{path:"".concat(e.path,"/changepassword"),component:de})))}return r.a.createElement(y.a,{to:"".concat("","/login")})}}]),a}(n.Component);var he=Object(o.c)(function(e){return{loggedIn:e.accountReducer.loggedIn}})(me),pe=(t(29),function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(j.a)(this,Object(P.a)(a).call(this,e))).state={username:"",password:""},t.handleChange=t.handleChange.bind(Object(A.a)(Object(A.a)(t))),t.handleLogin=t.handleLogin.bind(Object(A.a)(Object(A.a)(t))),t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentWillMount",value:function(){document.body.className="full-back",this.props.dispatch(Y.clearErrors()),this.logout()}},{key:"logout",value:function(){var e=this.props,a=e.dispatch;e.isLoggedIn&&a(Y.logout())}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(te.a)({},t,n))}},{key:"handleLogin",value:function(){var e=this.state,a=e.username,t=e.password,n=this.props.dispatch,r=(new M.a.SHA1).hex(t);n(Y.login({username:a,password:r})),this.clearPassword()}},{key:"clearPassword",value:function(){this.setState({password:""})}},{key:"render",value:function(){var e=this.props,a=e.loggedIn,t=e.fetching,n=e.error,s=e.message,o=this.state,c=o.username,i=o.password;return a?r.a.createElement(y.a,{to:"".concat("","/main")}):r.a.createElement(ie,{left:4,middle:4,right:4,className:"account-div"},r.a.createElement("div",{className:"inner-panel"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("i",{className:"fas fa-biohazard logo"}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ce,{showWhen:t,message:"logging in..."}),!t&&r.a.createElement("div",null,r.a.createElement(re,{error:n,info:s}),r.a.createElement("form",null,r.a.createElement(oe,{type:"text",name:"username",errorKey:"username",label:"Username (e-mail)",autoFocus:!0,error:n,value:c,disabled:t,onChange:this.handleChange}),r.a.createElement(oe,{type:"password",name:"password",errorKey:"password",label:"Password",error:n,value:i,disabled:t,onChange:this.handleChange}),r.a.createElement("div",{className:"row button-top-padding"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement(le,{disabled:t,onClick:this.handleLogin,label:"Login"}),r.a.createElement(Z.a,{className:"btn btn-secondary",to:"".concat("","/register")},"Register")))))))}}]),a}(n.Component));var Ee=Object(o.c)(function(e){var a=e.accountReducer;return{fetching:a.fetching,loggedIn:a.loggedIn,error:a.error,message:a.message}})(pe),be=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(j.a)(this,Object(P.a)(a).call(this,e))).state={username:"",password:"",confirmPassword:""},t.handleChange=t.handleChange.bind(Object(A.a)(Object(A.a)(t))),t.handleCreateAccount=t.handleCreateAccount.bind(Object(A.a)(Object(A.a)(t))),t.readyForSubmit=t.readyForSubmit.bind(Object(A.a)(Object(A.a)(t))),t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentWillMount",value:function(){document.body.className="full-back",this.props.dispatch(Y.clearErrorsAndMessages()),this.logout()}},{key:"logout",value:function(){var e=this.props,a=e.dispatch;e.isLoggedIn&&a(Y.logout())}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(te.a)({},t,n))}},{key:"handleCreateAccount",value:function(){var e=this.state,a=e.username,t=e.password,n=e.confirmPassword;(0,this.props.dispatch)(Y.register({username:a,password:t,confirmPassword:n})),this.clearPassword()}},{key:"readyForSubmit",value:function(){return null!=this.state.username&&null!=this.state.password&&null!=this.state.confirmPassword}},{key:"clearPassword",value:function(){this.setState({password:"",confirmPassword:""})}},{key:"render",value:function(){var e=this.props,a=e.loggedIn,t=e.fetching,n=e.error,s=e.message,o=this.state,c=o.username,i=o.password,l=o.confirmPassword;return a?r.a.createElement(y.a,{to:"".concat("","/main")}):r.a.createElement(ie,{left:4,middle:4,right:4,className:"account-div"},r.a.createElement("div",{className:"inner-panel"},r.a.createElement("div",{className:"row logo-top-padding"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("i",{className:"fas fa-biohazard logo"}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ce,{showWhen:t,message:"logging in..."}),!t&&r.a.createElement("div",null,r.a.createElement(re,{error:n,info:s}),r.a.createElement("form",null,r.a.createElement(oe,{type:"text",name:"username",errorKey:"username",label:"Username (e-mail)",autoFocus:!0,error:n,value:c,disabled:t,onChange:this.handleChange}),r.a.createElement(oe,{type:"password",name:"password",errorKey:"password",label:"Password",error:n,value:i,disabled:t,onChange:this.handleChange}),r.a.createElement(oe,{type:"password",name:"confirmPassword",errorKey:"confirmPassword",label:"Confirm Password",error:n,value:l,disabled:t,onChange:this.handleChange}),r.a.createElement("div",{className:"row button-top-padding"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement(le,{disabled:t||!this.readyForSubmit,onClick:this.handleCreateAccount,label:"Create Account"}),r.a.createElement(Z.a,{className:"btn btn-secondary",to:"".concat("","/login")},"Cancel")))))))}}]),a}(n.Component);var ge=Object(o.c)(function(e){var a=e.accountReducer;return{fetching:a.fetching,loggedIn:a.loggedIn,error:a.error,message:a.message}})(be),fe=(t(49),t(50),document.querySelector("#root"));Object(s.render)(r.a.createElement(o.a,{store:O},r.a.createElement(c.a,{history:f,basename:h.BASE_NAME},r.a.createElement(function(){return r.a.createElement("div",null,r.a.createElement(w.a,{exact:!0,path:"".concat("","/"),component:C}),r.a.createElement(w.a,{path:"".concat("","/main"),component:he}),r.a.createElement(w.a,{path:"".concat("","/login"),component:Ee}),r.a.createElement(w.a,{path:"".concat("","/register"),component:ge}))},null))),fe)}},[[35,1,2]]]);
//# sourceMappingURL=main.f4123abd.chunk.js.map